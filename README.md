# Ludo-Online-Game

# ΠΕΡΙΓΡΑΦΗ ΠΑΙΧΝΙΔΙΟΥ - ΓΚΡΗΝΙΑΡΗΣ 

### ΚΑΝΟΝΕΣ

- 2 - 4 παίκτες 

- Κάθε παίκτης έχει απο 4 πιόνια.

- Μέγιστη διάρκεια κάθε γύρου 20 δευτερόλεπτα.

- Αν ένας παίκτης μείνει αδρανής για 3 γύρους, βγαίνει απο το παιχνίδι.

- Νικητής ειναι ο παίκτης που θα μεταφέρει όλα τα πιόνια στο BASE, ή ο τελευταίος που θα μείνει ενεργός.





### ΕΚΚΙΝΗΣΗ ΠΑΙΧΝΙΔΙΟΥ

Ο κάθε παίκτης εχει 4 πιόνια τα οποία βρίσκονται στο HOME, με το αντίστοιχο τους χρώμα. Οι παίκτες ρίχνουν ζαριές εναλλάξ. Για να μπει το πιόνι στο PATH του board, ο παίκτης θα πρέπει να τύχει 1 ή 6. Εφόσον το πιόνι έχει μπει στο PATH, οι παίκτες ρίχνουν ζαρίες μέχρι αυτό να φτάσει στο BASE. Αν ο παίκτης τύχει 1 ή 6, και υπάρχουν πιόνα και στο board αλλά και στο HOME, ο παίκτης έχει την επιλογή είτε να κινήσει τα ήδη υπάρχοντα πιόνα που βρίσκονται στο board ή να προσθέσει ενα πιόνι απο το HOME. Ο παίκτης μπορεί να έχει στο board και τα 4 πιόνια ταυτόχρονα. Ένα πιόνι μπορεί να επιστρέψει στο HOME, εάν ένα άλλο πιόνι πέσει πάνω του όσο αυτό βρίσκεται στο PATH.


### ΣΚΟΠΟΣ ΤΟΥ ΠΑΙΧΝΙΔΙΟΥ

Ο πρώτος παίκτης που θα μεταφέρει όλα του τα πιόνια στο BASE, είναι ο νικητής. 



## Βάση Παιχνιδιού:

### Η βάση που δημιουργήσαμε περιέχει έναν πίνακα στον οποίο αποθηκεύονται τα δεδομένα, όπως πληροφορίες για τους παίκτες και την κατάσταση του παιχνιδιού.

## Πίνακας:

- ## room_data:
  - ### ID 
  
  Μια auto-incremented integer στήλη που λειτουργεί ως κύριο κλειδί για κάθε καταγραφή. Αυξάνεται αυτόματα κατά 1 κάθε φορά που δημιουργείται ένας νέος πίνακας, δηλαδή ένα καινούργιο room.
  

  - ### roomID

  Μια string στήλη, στην οποία αποθηκεύεται το id του room.





  - ### inviteCode 

  Μια string στήλη, στην οποία αποθηκεύεται ο κωδικός πρόσκλησης που χρησιμοποιείται για την είσοδο σε ένα ήδη υπάρχον room.


  - ### roomStatus

  Μια integer στήλη, στην οποία αποθηκεύεται η τρέχουσα κατάσταση του παιχνιδιού, 0 οταν δημιουργηθεί ένα δωμάτιο αλλά το παιχνίδι δεν έχει ξεκινήσει ακόμα, 1 όταν το παιχνίδι είναι ενεργό, και 2 όταν το παιχνίδι έχει τελειώσει.


  - ### playerCount

  Μια integer στήλη, στην οποία αποθηκεύεται ο αριθμός των παικτών που βρίσκονται στο room.


  - ### roundTime

  Μια bigint στήλη, στην οποία αποθηκεύεται ο χρόνος κάθε γύρου σε milliseconds.


  - ### currentPlayer

  Μια string στήλη, στην οποία αποθηκεύεται το id του παίκτη που παίζει την τρέχουσα στιγμή.


  - ### lastThrow

  Μια text στήλη στην οποία αποθηκεύονται πληροφορίες για την τελευταία ζαριά, οπώς το id του παίκτη, το value δηλαδή ο αριθμός της ζαριάς και το χρώμα του.


  - ### leaderBoard

  Μια text στήλη στην οποία αποθηκεύονται πληροφορίες σχετικά με την κατάταξη του παιχνιδιού, δηλαδή


  - ### data

  Μια text στήλη στην οποία αποθηκεύονται πληροφορίες σχετικά με τους παίκτες που βρίσκονται στο room, όπως το id του παίκτη, το όνομα του, το χρώμα, το status του παίκτη( 0 όταν δεν είναι ready, 1 όταν είναι ready και 2 όταν αρχίσει το παιχνίδι)  τον χρόνο που βρίσκεται στο room και τους γύρους που δεν έχει παίξει.


  - ### pawnData

  Μια text στήλη στην οποία αποθηκεύονται πληροφορίες σχετικά με τις θέσεις των πιονιών του κάθε παίκτη.





# ΠΕΡΙΓΡΑΦΗ API

## METHODS

 ## StartPage:

- Endpoint: /ludo/ajax/sessionManager.php
- Method: POST

- Περιγραφή: Ξεκινά την αρχική σελίδα του παιχνιδιού και ανακτά τα απαραίτητα δεδομένα. Εάν δημιουργηθεί καινούργιο Session, δημιουργεί τη σελίδα του μενού CreateMainMenuPage(). Διαφορετικά, αν το Session υπάρχει ήδη, δημιουργεί τη μπάρα των παικτών CreatePlayersBar(), ενημερώνει συνεχώς τα δεδομένα DataServerCoroutine() και δείχνει τα πιόνια που μπορεί να κινήσει ο παίκτης CreateMoveDivs().

- Παράμετροι:
  - restart: Υποδεικνύει εάν το παιχνίδι πρέπει να ξαναρχίσει.

- Response: Το JSON object περιέχει τις ακόλουθες ιδιότητες,
  - newSession: Το Boolean value υποδεικνύει εάν δημιουργήθηκε ένα νέο Session.
  - myTurn: Το Boolean value δείχνει αν είναι η σειρά του παίκτη.
  - pawnsToMove: Η διαθέσιμη σειρά πιονιών για να κινηθεί ο παίκτης.

## AddPlayerToGame:

- Endpoint: /ludo/ajax/addToGame.php
- Method: POST
- Περιγραφή: Προσθέτει έναν παίκτη στο παιχνίδι, ενημερώνει την μπάρα των παικτών CreatePlayersBar() και τα δεδομένα του παιχνιδιού DataServerCoroutine().

- Παράμετροι:
  - nick: Το ψευδώνυμο του παίκτη.


- Response:  Το JSON object περιέχει τα ενημερωμένα δεδομένα των παικτών.


## ChangePlayerStatusFetch:

- Endpoint: /ludo/ajax/changePlayerStatus.php
- Method: POST
- Περιγραφή: Αλλάζει την κατάσταση ενός παίκτη στο παιχνίδι. Εάν το παιχνίδι ξεκινήσει, προετοιμάζει το παιχνίδι αναλύοντας τα δεδομένα του πιονιού PrepareGame(). Διαφορετικά, ορίζει την ιδιότητα gameStart σε false.

- Παράμετροι:
  - status: Η νέα κατάσταση του παίκτη.

- Response: Το JSON object περιέχει τις ακόλουθες ιδιότητες,
  - startGame: Το Boolean value υποδεικνύει εάν το παιχνίδι πρέπει να ξεκινήσει.
  - pawnData: Το JSON string αντιπροσωπεύει τα δεδομένα του πιονιού.


## DataServerCoroutine:

- Endpoint: /ludo/ajax/getAllData.php
- Method: POST
- Περιγραφή: Ανακτά συνεχώς τα δεδομένα του παιχνιδιού. Εάν το παιχνίδι είναι σε εξέλιξη, υπολογίζει το ping και προσαρμόζει τον χρόνο, επίσης αναλύει τα δεδομένα DataParser(), για να ενημερώνει την κατάσταση του παιχνιδιού . Εάν το παιχνίδι έχει τελειώσει, εμφανίζεται η οθόνη τέλους παιχνιδιού CreateEndGameScreen() χρησιμοποιόντας τα δεδομένα του leaderboard.

- Παράμετροι: Καμία

- Response:  Το JSON object περιέχει τις ακόλουθες ιδιότητες,
  - status: Το Boolean value υποδεικνύει εάν το παιχνίδι είναι ακόμα σε εξέλιξη.
  - endGame: Το Boolean value υποδεικνύει εάν το παιχνίδι έχει τελειώσει.
  - currentTime: Η τρέχουσα ώρα παιχνιδιού.
  - leaderBoard: Το JSON string αντιπροσωπεύει τα δεδομένα του leaderboard.
  - myColor: Το χρώμα του παίκτη.

## ThrowDiceFetch:

- Endpoint: /ludo/ajax/throwDice.php
- Method: POST
- Περιγραφή: Ανακτά το αποτέλεσμα απο το ρίξιμο των ζαριών. Εάν το moveStatus είναι αληθές, δείχνει τα πιόνια που μπορούν να μετακινηθούν CreateMoveDivs(). Χειρίζεται επίσης την κίνηση και την εμφάνιση των ζαριών.

- Παράμετροι: Καμία

- Response: Το JSON object περιέχει τις ακόλουθες ιδιότητες,
  - status: Το Boolean value υποδεικνύει εάν η ρίψη ζαριών ήταν επιτυχής.
  - moveStatus: Το Boolean value υποδεικνύει εάν υπάρχουν πιόνια που μπορούν να μετακινηθούν.
  - pawnsToMove: Το JSON string αντιπροσωπεύει τα πιόνια που είναι διαθέσιμα για να μετακινήσει ο παίκτης.
  - myColor: Το χρώμα του παίκτη.
  - diceValue: Η τιμή των ζαριών.

## ExecuteMoveFetch:

- Endpoint: /ludo/ajax/executeMove.php
- Method: POST
- Περιγραφή: Εκτελεί μια κίνηση για ένα συγκεκριμένο πιόνι. Ενημερώνει το board του παιχνιδιού με τα νέα δεδομένα του πιονιού CreateGameBoard() ή, εάν το παιχνίδι έχει τελειώσει, δημιουργείται η οθόνη τέλους παιχνιδιού CreateEndGameScreen().

- Παράμετροι:
  - pawnID: Το ID του πιονιού.

- Response: Το JSON object περιέχει τις ακόλουθες ιδιότητες,
  - pawnData: Το JSON string αντιπροσωπεύει τα δεδομένα του πιονιού.
  - endGame: Το Boolean value υποδεικνύει εάν το παιχνίδι έχει τελειώσει.
  - leaderBoard: Το JSON string αντιπροσωπεύει τα δεδομένα του leaderboard.
  - myColor: Το χρώμα του παίκτη.


## JoinRoomByInviteFetch:

- Endpoint: /ludo/ajax/joinRoomByInvite.php
- Method: POST
- Περιγραφή: Ο παίκτης εισέρχεται στο room χρησιμοποιώντας έναν κωδικό πρόσκλησης. Εάν το status είναι False, ξεκινά το παιχνίδι Start() και εμφανίζει ένα σφάλμα σύνδεσης. Εάν το status δεν είναι false, σημαίνει οτι ο παίκτης έχει εισέλθει επιτυχώς στο room, δημιουργεί την μπάρα του παίκτη CreatePlayersBar() και ενημερώνει τα δεδομένα του παικτη DataServerCoroutine().

- Παράμετροι:
  - nick: Το ψευδώνυμο του παίκτη.
  - inviteCode: Ο κωδικός πρόσκλησης του room.

- Response: Το JSON object περιέχει τις ακόλουθες ιδιότητες,
  - status: To Boolean value υποδεικνύει εάν ο παίκτης μπήκε με επιτυχία στο room.











